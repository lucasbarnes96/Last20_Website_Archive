"use strict";(()=>{var et=Object.defineProperty,st=Object.defineProperties;var ot=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var R=(c,n,t)=>n in c?et(c,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[n]=t,a=(c,n)=>{for(var t in n||(n={}))nt.call(n,t)&&R(c,t,n[t]);if(V)for(var t of V(n))rt.call(n,t)&&R(c,t,n[t]);return c},T=(c,n)=>st(c,ot(n));var $=(c,n,t)=>new Promise((f,v)=>{var h=l=>{try{g(t.next(l))}catch(i){v(i)}},p=l=>{try{g(t.throw(l))}catch(i){v(i)}},g=l=>l.done?f(l.value):Promise.resolve(l.value).then(h,p);g((t=t.apply(c,n)).next())});(self.webpackChunkecom_website=self.webpackChunkecom_website||[]).push([[47074],{54204:(c,n,t)=>{t.d(n,{A:()=>N});var f=function(){var e=this,m=e._self._c;return m(e.component,e._b({tag:"component",class:e.componentClasses,style:e.componentStyle,on:{click:e.onClick},scopedSlots:e._u([e.hasLink?{key:"content",fn:function(){return[e.showPlaceholder?[e._v(`
			`+e._s(e.placeholder)+`
		`)]:e._e(),e._v(" "),m("legacy-text",{ref:"text",staticClass:"text",attrs:{"text-style":e.TEXTSTYLE_BUTTON_LABEL,contents:e.label,formats:[],"event-bus":e.eventBus,mode:e.LEGACY_TEXT_MODE_BUTTON,"debounce-duration":2500,placeholder:""},on:{input:e.onInput}}),e._v(" "),m("span")]},proxy:!0}:null],null,!0)},"component",e.props,!1),[e.hasLink?e._e():[m("legacy-text",{ref:"text",staticClass:"text",attrs:{"text-style":e.TEXTSTYLE_BUTTON_LABEL,contents:e.label,formats:[],"event-bus":e.eventBus,mode:e.LEGACY_TEXT_MODE_BUTTON,"debounce-duration":2500,placeholder:""},on:{input:e.onInput}}),e._v(" "),m("span")]],2)},v=[],h=t(5121),p=t(84475),g=t(9005),l=t(11350),i=t(76872),S=t(38804),A=t(89758),L=t(93854).A;const B={placeholder:L("elements.button.placeholder")},O={name:"ButtonElement",components:{MButton:g.MButton,MTextButton:l.MTextButton},extends:S.A,props:{link:{type:Object,default:()=>({})},placeholder:{type:String,default:B.placeholder}},data(){return{LEGACY_TEXT_MODE_BUTTON:p.B5,TEXTSTYLE_BUTTON_LABEL:A.fh,focused:!1}},computed:T(a({},(0,i.mapState)(["environment"])),{eventBus(){return this.isEditor?new h.A:null},input(){return this.label.trim()},classlist(){return a({"w-button":!0,empty:!this.hasContent},this.classes)},componentClasses(){return this.hasLink&&this.presetStyle!=="text"?{}:this.classlist},componentStyle(){return!this.hasLink||this.presetStyle!=="text"?{}:{color:this.buttonProps.color}},hasContent(){return!!this.input.length},hasLink(){const{type:y,link:e}=this.link;return e?!!e[y]:!1},component(){return this.hasLink?"w-link":this.presetStyle==="text"?"m-text-button":"m-button"},props(){const{link:y,buttonProps:e,classlist:m}=this;return this.hasLink?{link:y,isButton:this.presetStyle!=="text",buttonProps:T(a({},e),{tag:"a",class:m})}:e},showPlaceholder(){return this.isEditor&&!this.hasContent&&!this.focused},isEditor(){return!this.environment.published}}),beforeMount(){this.isEditor&&this.eventBus.$on("blur",this.onBlur)},methods:{onClick(){this.isEditor?(this.focused=!0,this.eventBus.$emit("focus")):this.$emit("click")},onBlur(){this.focused=!1},onInput(y){let{quill:e}=y;this.isEditor&&(this.input=e.trim())}}};var M=t(14486),I=(0,M.A)(O,f,v,!1,null,"e2a9ea0a",null);const N=I.exports},86087:(c,n,t)=>{t.d(n,{A:()=>e});var f=function(){var u=this,x=u._self._c;return x("div",{staticClass:"page"},[x("div",{staticClass:"col"},[u.code?x("text-component-with-maker",{attrs:{"font-size":7,color:"--primary-color",tag:"h1"}},[u._v(`
			`+u._s(u.code)+`
		`)]):u._e(),u._v(" "),x("text-component-with-maker",{staticClass:"error-msg",attrs:{"font-size":3,tag:"h2"}},[u._v(`
			`+u._s(u.error)+`
		`)]),u._v(" "),x("button-element",{attrs:{label:"Go Home"},on:{click:u.goHome}},[u._v(`
			`+u._s(u.translations.homeBtn)+`
		`)])],1)])},v=[],h=t(50204),p=t(87508),g=t(10801),l=t(95493),i=t(54204),S=t(43257),A=t(5052),L=t(23016),B=t(5538),E=t(93854).A;const O={homeBtn:E("error.published.404.button")},I={name:"ErrorPage",components:{ButtonElement:i.A},provide(){return{backdrop:()=>S.lH,colorProfile:()=>this.colorProfile}},inject:["ASSETS_PUBLIC_PATH"],data(){return{translations:O}},metaInfo(){return{title:this.title,style:[{type:"text/css",cssText:this.style}],link:[...this.fontLinks],meta:[{name:"robots",content:"noindex"}]}},computed:T(a(a(a({},(0,h.aH)(p.A,["style"])),(0,h.aH)(g.A,["getColorProfile"])),(0,h.aH)(l.A,["textStylesToFontFamilies"])),{title(){return this.code?`${this.code} ${this.error}`:`${this.error}`},fontLinks(){return(0,A.A)(this.ASSETS_PUBLIC_PATH,this.textStylesToFontFamilies)},colorProfile(){return this.getColorProfile()}}),created(){this.stopSiteLoadingAnimation()},methods:T(a({},(0,h.i0)(B.A,["stopSiteLoadingAnimation"])),{goHome(){const m=L.A.getConfig("URL_BASE");window.location.pathname=m?`${m}/`:"/"}})};var N=t(14486),y=(0,N.A)(I,f,v,!1,null,"029babf7",null);const e=y.exports},17863:(c,n,t)=>{t.d(n,{A:()=>B});var f=t(76872),v=t(63741),h=t(86087),p=t(93854).A;const l={name:"NotFound404",extends:h.A,computed:T(a({},(0,f.mapGetters)(["route"])),{isAppointmentsPage(){var E;return((E=this.route)===null||E===void 0?void 0:E.name)===v.P3},code(){return this.isAppointmentsPage?0:404},error(){return this.isAppointmentsPage?p("appointment-modal.appointments-not-setup"):p("error.published.404.subtitle")}})};var i=t(14486),S,A,L=(0,i.A)(l,S,A,!1,null,null,null);const B=L.exports},30934:(c,n,t)=>{t.d(n,{A:()=>A});var f=t(86087),v=t(93854).A;const p={name:"ServerError500",extends:f.A,data(){return{code:500,error:v("error.published.500.error")}}};var g=t(14486),l,i,S=(0,g.A)(p,l,i,!1,null,null,null);const A=S.exports},47074:(c,n,t)=>{t.d(n,{A:()=>q});var f=function(){var s=this,r=s._self._c,d=s._self._setupProxy;return r("div",[s.error.code<300?r("page",s._g({staticClass:"reset-z-index",attrs:{id:s.id,page:s.page,styles:s.style,"framework-options":s.frameworkOptions}},s.$listeners)):s.error.code<500?r("not-found-404"):r("server-error-500")],1)},v=[],h=t(29421),p=t.n(h),g=t(41845),l=t(76872),i=t(50204),S=t(10537),A=t(74095),L=t.n(A),B=t(5696),E=t(44855),O=t(55522),M=t(73704),I=t(87508),N=t(10951),y=t(27581),e=t(85874),m=t(25708),u=t(83957),x=t(17863),z=t(30934),G=t(60284),W=t(86915),j=t(63741),X=t(96774),Y=t(14428),b=t(31610),Q=t(93854).A;const k="square-go-popups",J={popupIframeTitle:Q("prime.popup.iframe-title")},K=(0,g.defineComponent)({name:"BasePage",components:{NotFound404:x.A,ServerError500:z.A},inject:{SUBDOMAIN_BASE:"SUBDOMAIN_BASE",siteEventBus:"siteEventBus",modalApi:X.modalApi},metaInfo(){return this.error.code<300&&this.$options.metaData?this.$options.metaData.call(this):{}},asyncData(o){return $(this,null,function*(){var s;let{store:r,route:d}=o;const P=(0,B.Ay)(),U=(0,O.A)(),C=(0,E.A)();r.getters.isPublishedSite||(yield P.fetchStoreInfo(r.getters.isPublishedPreviewEnvironment));function _(){return $(this,null,function*(){yield P.initializeSiteLocationData(d),yield U.setDefaultSiteFulfillmentSelection(d)})}function tt(H){return $(this,null,function*(){yield C.pingBuyerService(),H&&(yield C.verifyAndLoginBuyerUsingPasetoToken(H),delete d.query.id_token),C.hasCustomerAccountsEnabled&&(yield p().all([C.fetchCustomerAccount({updateSqCustomers:!0}),C.fetchSellerSubscriptionPlans()]))})}const F=[_()],D=d==null||(s=d.query)===null||s===void 0?void 0:s.id_token;(C.hasCustomerAccountsEnabled||D)&&F.push(tt(D)),r.state.environment.published||F.push(P.fetchStoreLinkMap(),(0,e.Ay)().fetchDraftBlogLinkMap()),yield p().all(F)})},data(){return{watchers:[],observers:[],frameworkOptions:{},hasMultipleWidgets:!1}},computed:T(a(a(a(a(a(a(a(a({},(0,l.mapState)(["environment","error"])),(0,l.mapGetters)(["route","getFullPage","pageIdFromRoute","getResourceId","isPublishedSite"])),(0,i.aH)(N.Ay,{getSiteProperty:"getProperty"})),(0,i.aH)(y.A,{getSnapshotProperty:"getProperty"})),(0,i.aH)(I.A,["style"])),(0,i.aH)(B.Ay,["isDineInOrder"])),(0,i.aH)(m.Ay,["isSquareGoView"])),(0,i.aH)(E.A,["hasCustomerAccountsEnabled","isLoggedIn"])),{id(){return this.pageIdFromRoute},page(){const o=this.id,s=this.getResourceId(o);return this.getFullPage(o,s)},siteNav(){return this.getSnapshotProperty("navigation")},metaLink(){const{published:o,draft:s}=this.environment;if(o&&!s){const r=this.route.path;return[{rel:"canonical",href:this.route.name===j.Qz?this.hostname:L()(this.hostname,r)}]}return[]},hostname(){const{custom_domain:o,subdomain:s}=this.getSiteProperty("domain");return o?`https://${o}`:s.includes(this.SUBDOMAIN_BASE)?`https://${s}`:`https://${s}.${this.SUBDOMAIN_BASE}`}}),watch:{isDineInOrder(){this.togglePopUp()}},created(){const o=document.querySelector('link[rel="stylesheet"][href$="messenger-container.css"]');document.body.classList.toggle("has-messenger",!!o);const s=document.querySelector('script[src$="sq-online-messages-plugin.js"]'),r=document.querySelector('script[src$="lead-form.js"]');this.hasMultipleWidgets=r&&(o||s)},updated(){this.stopObserversAfterRender()},mounted(){this.hasMultipleWidgets&&this.setupObservers(),this.togglePopUp(),this.watchBreakpoints(),this.siteEventBus.$on("popups:hide",this.tempTogglePopups),this.siteEventBus.$on("customer-account:open",this.openCustomerAccountModal),this.toggleSquareGoPopups(),this.trackSiteVisit(),this.addPopupTitle()},beforeDestroy(){this.unWatchBreakpoints(),this.disconnectObservers(),this.siteEventBus.$off("popups:hide",this.tempTogglePopups),this.siteEventBus.$off("customer-account:open",this.openCustomerAccountModal)},methods:T(a(a(a({},(0,l.mapActions)(["setViewportSize"])),(0,i.i0)(B.Ay,["fetchStoreLinkMap"])),(0,i.i0)(M.A,{submitSiteVisit:"trackSiteVisit"})),{watchBreakpoints(){this.watchers=Object.keys(G.a9).map(o=>{const s=(0,W.F9)(o),r=window.matchMedia(s),d=P=>this.onBreakpointChange(P,o);return d(r),r.addListener(d),{mq:r,onchange:d}})},unWatchBreakpoints(){this.watchers.forEach(o=>{let{mq:s,onchange:r}=o;return s.removeListener(r)})},onBreakpointChange(o,s){o.matches&&this.setViewportSize(s)},setupObservers(){const o=new MutationObserver((s,r)=>{s.forEach(d=>{if(d.type==="childList"){const P=document.querySelector(".leadform-anchored-widget");P&&(document.body.classList.add("has-anchored-widget"),P.className.includes("-sidebar")&&document.body.classList.add("has-anchored-sidebar-widget"),r.disconnect())}})});o.observe(document.body,{childList:!0}),this.observers.push(o)},stopObserversAfterRender(){this.$nextTick(()=>{this.disconnectObservers()})},disconnectObservers(){this.observers.forEach(o=>o.disconnect()),this.observers=[]},togglePopUp(){document.body.classList.toggle("show-all-popups",!this.isDineInOrder)},toggleSquareGoPopups(){this.isSquareGoView&&document.body.classList.add(k)},tempTogglePopups(o){document.body.classList.toggle("temp-hide-popups",o)},trackSiteVisit(){this.isPublishedSite&&(this.$consent.statistics(()=>this.fireSiteVisitTrackingEvent()),(0,Y.V7)())},fireSiteVisitTrackingEvent(){let o=(0,u.kV)(b.B);const s=!o;s&&((0,u.cH)(b.B,(0,S.A)()),o=(0,u.kV)(b.B)),this.submitSiteVisit(s)},addPopupTitle(){const o=document.querySelector(".leadform-smart-bar-container iframe");o&&o.setAttribute("title",J.popupIframeTitle)},openCustomerAccountModal(){return $(this,arguments,function*(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.hasCustomerAccountsEnabled)if(this.isLoggedIn)this.$router.push({name:j.u4});else{const{default:s}=yield Promise.all([t.e(24883),t.e(76958),t.e(97314)]).then(t.bind(t,62830));this.modalApi.open(r=>r(s,{props:o}),{closeOnClickOutside:!0})}})}})});var Z=t(14486),w=(0,Z.A)(K,f,v,!1,null,null,null);const q=w.exports}}]);})();
